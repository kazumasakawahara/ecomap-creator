# ğŸ“˜ ã‚¨ã‚³ãƒãƒƒãƒ—ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ«ãƒ¼ãƒ«å®šç¾©æ›¸

**ä½œæˆæ—¥**: 2025å¹´10æœˆ21æ—¥  
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0

---

## ğŸ“‘ ç›®æ¬¡

1. [æ—¥ä»˜å¤‰æ›ãƒ«ãƒ¼ãƒ«](#æ—¥ä»˜å¤‰æ›ãƒ«ãƒ¼ãƒ«)
2. [å¹´é½¢è‡ªå‹•è¨ˆç®—](#å¹´é½¢è‡ªå‹•è¨ˆç®—)
3. [ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ«ãƒ¼ãƒ«](#ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ«ãƒ¼ãƒ«)
4. [IDç”Ÿæˆãƒ«ãƒ¼ãƒ«](#idç”Ÿæˆãƒ«ãƒ¼ãƒ«)
5. [è¡¨ç¤ºè¨­å®šã®è‡ªå‹•ä»˜ä¸](#è¡¨ç¤ºè¨­å®šã®è‡ªå‹•ä»˜ä¸)
6. [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°](#ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)

---

## ğŸ—“ï¸ æ—¥ä»˜å¤‰æ›ãƒ«ãƒ¼ãƒ«

### **1. åŸºæœ¬æ–¹é‡**
- **å…¥åŠ›**: è¥¿æš¦ã¾ãŸã¯å…ƒå·ï¼ˆå’Œæš¦ï¼‰
- **å‡ºåŠ›**: ISO 8601å½¢å¼ã®è¥¿æš¦ï¼ˆYYYY-MM-DDï¼‰
- **ç›®çš„**: ã‚·ã‚¹ãƒ†ãƒ å†…ã§çµ±ä¸€çš„ãªæ—¥ä»˜ç®¡ç†

### **2. å…ƒå·å¤‰æ›ãƒ†ãƒ¼ãƒ–ãƒ«**

| å…ƒå· | é–‹å§‹å¹´ | è¨ˆç®—å¼ | ä¾‹ |
|------|--------|--------|-----|
| ä»¤å’Œ | 2019å¹´ | 2018 + ä»¤å’Œå¹´ | ä»¤å’Œ7å¹´ â†’ 2025å¹´ |
| å¹³æˆ | 1989å¹´ | 1988 + å¹³æˆå¹´ | å¹³æˆ30å¹´ â†’ 2018å¹´ |
| æ˜­å’Œ | 1926å¹´ | 1925 + æ˜­å’Œå¹´ | æ˜­å’Œ60å¹´ â†’ 1985å¹´ |
| å¤§æ­£ | 1912å¹´ | 1911 + å¤§æ­£å¹´ | å¤§æ­£15å¹´ â†’ 1926å¹´ |
| æ˜æ²» | 1868å¹´ | 1867 + æ˜æ²»å¹´ | æ˜æ²»45å¹´ â†’ 1912å¹´ |

### **3. èªè­˜ãƒ‘ã‚¿ãƒ¼ãƒ³**

Excelã‚„ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ä»¥ä¸‹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è‡ªå‹•èªè­˜ã—ã¾ã™ï¼š

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: å…ƒå·å½¢å¼
```
ä»¤å’Œ7å¹´4æœˆ1æ—¥   â†’ 2025-04-01
å¹³æˆ30å¹´12æœˆ25æ—¥ â†’ 2018-12-25
æ˜­å’Œ60å¹´3æœˆ15æ—¥  â†’ 1985-03-15
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: è¥¿æš¦å½¢å¼
```
2025å¹´4æœˆ1æ—¥     â†’ 2025-04-01
2025/4/1         â†’ 2025-04-01
2025-04-01       â†’ 2025-04-01ï¼ˆãã®ã¾ã¾ï¼‰
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: ç•¥å¼
```
R7.4.1          â†’ 2025-04-01
H30.12.25       â†’ 2018-12-25
S60.3.15        â†’ 1985-03-15
```

### **4. Pythonã‚³ãƒ¼ãƒ‰ä¾‹**

```python
import re
from datetime import datetime

def convert_japanese_date_to_iso(date_string):
    """
    æ—¥æœ¬ã®å…ƒå·è¡¨è¨˜ã¾ãŸã¯è¥¿æš¦è¡¨è¨˜ã‚’ISOå½¢å¼ï¼ˆYYYY-MM-DDï¼‰ã«å¤‰æ›
    
    å¼•æ•°:
        date_string (str): æ—¥ä»˜æ–‡å­—åˆ—
        
    æˆ»ã‚Šå€¤:
        str: ISOå½¢å¼ã®æ—¥ä»˜æ–‡å­—åˆ—ã€ã¾ãŸã¯å¤‰æ›å¤±æ•—æ™‚ã¯å…ƒã®æ–‡å­—åˆ—
    """
    
    # æ—¢ã«ISOå½¢å¼ï¼ˆYYYY-MM-DDï¼‰ã®å ´åˆã¯ãã®ã¾ã¾è¿”ã™
    if re.match(r'^\d{4}-\d{2}-\d{2}$', date_string):
        return date_string
    
    # å…ƒå·å¤‰æ›ãƒ†ãƒ¼ãƒ–ãƒ«
    era_map = {
        'ä»¤å’Œ': 2018, 'R': 2018,
        'å¹³æˆ': 1988, 'H': 1988,
        'æ˜­å’Œ': 1925, 'S': 1925,
        'å¤§æ­£': 1911, 'T': 1911,
        'æ˜æ²»': 1867, 'M': 1867
    }
    
    # ãƒ‘ã‚¿ãƒ¼ãƒ³1: ä»¤å’Œ7å¹´4æœˆ1æ—¥
    match = re.match(r'(ä»¤å’Œ|å¹³æˆ|æ˜­å’Œ|å¤§æ­£|æ˜æ²»)(\d+)å¹´(\d+)æœˆ(\d+)æ—¥', date_string)
    if match:
        era, year, month, day = match.groups()
        year = era_map[era] + int(year)
        return f"{year:04d}-{int(month):02d}-{int(day):02d}"
    
    # ãƒ‘ã‚¿ãƒ¼ãƒ³2: R7.4.1
    match = re.match(r'([RHSTM])(\d+)\.(\d+)\.(\d+)', date_string)
    if match:
        era, year, month, day = match.groups()
        year = era_map[era] + int(year)
        return f"{year:04d}-{int(month):02d}-{int(day):02d}"
    
    # ãƒ‘ã‚¿ãƒ¼ãƒ³3: 2025å¹´4æœˆ1æ—¥
    match = re.match(r'(\d{4})å¹´(\d+)æœˆ(\d+)æ—¥', date_string)
    if match:
        year, month, day = match.groups()
        return f"{int(year):04d}-{int(month):02d}-{int(day):02d}"
    
    # ãƒ‘ã‚¿ãƒ¼ãƒ³4: 2025/4/1
    match = re.match(r'(\d{4})[/-](\d+)[/-](\d+)', date_string)
    if match:
        year, month, day = match.groups()
        return f"{int(year):04d}-{int(month):02d}-{int(day):02d}"
    
    # å¤‰æ›ã§ããªã„å ´åˆã¯å…ƒã®æ–‡å­—åˆ—ã‚’è¿”ã™
    return date_string
```

### **5. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**

| å…¥åŠ› | æœŸå¾…å‡ºåŠ› | èª¬æ˜ |
|------|----------|------|
| ä»¤å’Œ7å¹´10æœˆ21æ—¥ | 2025-10-21 | å…ƒå·ï¼ˆãƒ•ãƒ«ï¼‰ |
| R7.10.21 | 2025-10-21 | å…ƒå·ï¼ˆç•¥å¼ï¼‰ |
| 2025å¹´10æœˆ21æ—¥ | 2025-10-21 | è¥¿æš¦ï¼ˆãƒ•ãƒ«ï¼‰ |
| 2025/10/21 | 2025-10-21 | è¥¿æš¦ï¼ˆã‚¹ãƒ©ãƒƒã‚·ãƒ¥ï¼‰ |
| 2025-10-21 | 2025-10-21 | æ—¢ã«ISOå½¢å¼ |

---

## ğŸ‚ å¹´é½¢è‡ªå‹•è¨ˆç®—

### **1. è¨ˆç®—å¼**

ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰ç¾åœ¨ã®å¹´é½¢ã‚’è‡ªå‹•è¨ˆç®—ã—ã¾ã™ã€‚

```python
from datetime import date

def calculate_age(birth_date_str):
    """
    ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰å¹´é½¢ã‚’è¨ˆç®—
    
    å¼•æ•°:
        birth_date_str (str): ç”Ÿå¹´æœˆæ—¥ï¼ˆYYYY-MM-DDå½¢å¼ï¼‰
        
    æˆ»ã‚Šå€¤:
        int: å¹´é½¢
    """
    try:
        birth_date = datetime.strptime(birth_date_str, '%Y-%m-%d').date()
        today = date.today()
        
        # å¹´é½¢è¨ˆç®—ï¼ˆèª•ç”Ÿæ—¥å‰ã¯-1æ­³ï¼‰
        age = today.year - birth_date.year
        if (today.month, today.day) < (birth_date.month, birth_date.day):
            age -= 1
            
        return age
    except:
        return None
```

### **2. é©ç”¨ç®‡æ‰€**

å¹´é½¢ã¯ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ã§è‡ªå‹•è¨ˆç®—ã•ã‚Œã¾ã™ï¼š

- **Personãƒãƒ¼ãƒ‰**: æœ¬äººã®å¹´é½¢
- **Familyãƒãƒ¼ãƒ‰**: å®¶æ—ãƒ¡ãƒ³ãƒãƒ¼ã®å¹´é½¢

### **3. æ³¨æ„äº‹é …**

- å¹´é½¢ã¯**è¨ˆç®—æ™‚ç‚¹**ã§ã®å¹´é½¢ã§ã™
- Excelã«å¹´é½¢ã‚’å…¥åŠ›ã—ã¦ã‚‚ç„¡è¦–ã•ã‚Œã€ç”Ÿå¹´æœˆæ—¥ã‹ã‚‰è‡ªå‹•è¨ˆç®—ã•ã‚Œã¾ã™
- ç”Ÿå¹´æœˆæ—¥ãŒç©ºæ¬„ã®å ´åˆã€å¹´é½¢ã¯`null`ã«ãªã‚Šã¾ã™

---

## âœ… ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ«ãƒ¼ãƒ«

### **1. å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯**

å„ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã§å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç©ºæ¬„ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ã¨ã—ã¾ã™ã€‚

#### Personï¼ˆæœ¬äººï¼‰
- âœ… æ°å
- âœ… ç”Ÿå¹´æœˆæ—¥
- âœ… æ€§åˆ¥

#### Familyï¼ˆå®¶æ—ï¼‰
- âœ… æ°å
- âœ… ç¶šæŸ„
- âœ… åŒå±…ï¼ˆã€‡/Ã—ï¼‰

#### Notebookï¼ˆæ‰‹å¸³ï¼‰
- âœ… æ‰‹å¸³ç¨®åˆ¥
- âœ… ç­‰ç´šãƒ»åˆ¤å®š
- âœ… äº¤ä»˜æ—¥
- âœ… äº¤ä»˜è‡ªæ²»ä½“
- âœ… çŠ¶æ…‹

#### SupportLevelï¼ˆæ”¯æ´åŒºåˆ†ï¼‰
- âœ… æ”¯æ´åŒºåˆ†
- âœ… æ±ºå®šæ—¥
- âœ… æ±ºå®šè‡ªæ²»ä½“
- âœ… çŠ¶æ…‹

ï¼ˆä»¥ä¸‹ã€å„ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ schema.json ã® required ã‚’å‚ç…§ï¼‰

### **2. å½¢å¼æ¤œè¨¼**

#### æ—¥ä»˜å½¢å¼
- ISO 8601å½¢å¼ï¼ˆYYYY-MM-DDï¼‰ã«çµ±ä¸€
- å…ƒå·å…¥åŠ›ã®å ´åˆã¯è‡ªå‹•å¤‰æ›

#### éƒµä¾¿ç•ªå·
- ãƒ‘ã‚¿ãƒ¼ãƒ³: `123-4567` ã¾ãŸã¯ `1234567`
- æ­£è¦è¡¨ç¾: `^[0-9]{3}-?[0-9]{4}$`

#### äº‹æ¥­æ‰€ç•ªå·
- ãƒ‘ã‚¿ãƒ¼ãƒ³: 10æ¡ã®æ•°å­—
- æ­£è¦è¡¨ç¾: `^[0-9]{10}$`

#### ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹
- RFC 5322æº–æ‹ ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹å½¢å¼

### **3. å€¤ã®ç¯„å›²æ¤œè¨¼**

#### æ”¯æ´åŒºåˆ†
- è¨±å®¹å€¤: `0`, `1`, `2`, `3`, `4`, `5`, `6`, `éè©²å½“`

#### æ€§åˆ¥
- è¨±å®¹å€¤: `ç”·`, `å¥³`, `ãã®ä»–`

#### æ‰‹å¸³ç¨®åˆ¥
- è¨±å®¹å€¤: `ç™‚è‚²æ‰‹å¸³`, `ç²¾ç¥ä¿å¥ç¦ç¥‰æ‰‹å¸³`, `èº«ä½“éšœå®³è€…æ‰‹å¸³`

#### å¾Œè¦‹é¡å‹
- è¨±å®¹å€¤: `å¾Œè¦‹`, `ä¿ä½`, `è£œåŠ©`, `ä»»æ„å¾Œè¦‹`

#### ã‚µãƒ¼ãƒ“ã‚¹çŠ¶æ…‹
- è¨±å®¹å€¤: `å¥‘ç´„ä¸­`, `ä½“é¨“ä¸­`, `å¥‘ç´„çµ‚äº†`

---

## ğŸ†” IDç”Ÿæˆãƒ«ãƒ¼ãƒ«

### **1. UUID v4ã®ä½¿ç”¨**

å„ãƒãƒ¼ãƒ‰ã¨ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯ä¸€æ„ã®è­˜åˆ¥å­ï¼ˆUUID v4ï¼‰ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

```python
import uuid

def generate_node_id(node_type, properties):
    """
    ãƒãƒ¼ãƒ‰ã®ä¸€æ„IDã‚’ç”Ÿæˆ
    
    å¼•æ•°:
        node_type (str): ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—
        properties (dict): ãƒãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
        
    æˆ»ã‚Šå€¤:
        str: UUID v4å½¢å¼ã®ID
    """
    return str(uuid.uuid4())
```

### **2. IDå½¢å¼**

```
ä¾‹: "550e8400-e29b-41d4-a716-446655440000"
```

### **3. å†åˆ©ç”¨ã®ç¦æ­¢**

- åŒã˜IDã¯çµ¶å¯¾ã«å†åˆ©ç”¨ã—ãªã„
- æ–°ã—ã„ãƒãƒ¼ãƒ‰/ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¯å¿…ãšæ–°ã—ã„IDã‚’ç”Ÿæˆ

---

## ğŸ¨ è¡¨ç¤ºè¨­å®šã®è‡ªå‹•ä»˜ä¸

### **1. ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—ã”ã¨ã®è‰²è¨­å®š**

| ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ— | è‰²ï¼ˆ16é€²æ•°ï¼‰ | ã‚¢ã‚¤ã‚³ãƒ³ | ãƒ¬ã‚¤ãƒ¤ãƒ¼ |
|--------------|--------------|----------|----------|
| Person | #FF8C00 | ğŸ§‘ | default |
| Family | #DC143C | ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ | family |
| RyoikuNotebook | #8B0000 | ğŸ“• | default |
| MentalHealthNotebook | #006400 | ğŸ“— | default |
| PhysicalDisabilityNotebook | #00008B | ğŸ“˜ | default |
| SupportLevel | #800080 | ğŸ“Š | default |
| Diagnosis | #00CED1 | ğŸ¥ | medical |
| LegalGuardian | #8B4513 | âš–ï¸ | default |
| ConsultationSupport | #9370DB | ğŸŸ£ | support |
| ConsultationSupportSpecialist | #4169E1 | ğŸ‘¤ | support |
| ServicePlan | #6A5ACD | ğŸ“‹ | default |
| SupportService | #32CD32 | ğŸŸ¢ | support |
| ServiceManager | #228B22 | ğŸ‘¤ | support |
| ServiceContract | #3CB371 | ğŸ“ | default |
| MedicalInstitution | #5F9EA0 | ğŸ©º | medical |
| Doctor | #4682B4 | ğŸ‘¨â€âš•ï¸ | medical |
| Government | #A9A9A9 | ğŸ›ï¸ | support |
| Medication | #DB7093 | ğŸ’Š | medical |

### **2. ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºã®åˆ¤å®š**

ä»¥ä¸‹ã®æ¡ä»¶ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºã‚’æ±ºå®šã—ã¾ã™ï¼š

#### å¸¸ã«è¡¨ç¤ºï¼ˆvisible: trueï¼‰
- Personï¼ˆæœ¬äººï¼‰
- æœ‰åŠ¹ãªæ‰‹å¸³ï¼ˆstatus="æœ‰åŠ¹"ï¼‰
- ç¾åœ¨ã®æ”¯æ´åŒºåˆ†ï¼ˆstatus="ç¾åœ¨"ï¼‰
- æˆå¹´å¾Œè¦‹äººï¼ˆå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
- æœ€æ–°ã®ã‚µãƒ¼ãƒ“ã‚¹ç­‰åˆ©ç”¨è¨ˆç”»ï¼ˆstatus="æœ‰åŠ¹"ï¼‰
- å¥‘ç´„ä¸­ã®ç¦ç¥‰ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆstatus="å¥‘ç´„ä¸­"ï¼‰

#### å±•é–‹æ™‚ã«è¡¨ç¤ºï¼ˆvisible: falseï¼‰
- åŒå±…ã—ã¦ã„ãªã„å®¶æ—ï¼ˆcohabiting=falseï¼‰
- æœŸé™åˆ‡ã‚Œã®æ‰‹å¸³ï¼ˆstatus="æœŸé™åˆ‡ã‚Œ"ï¼‰
- éå»ã®æ”¯æ´åŒºåˆ†ï¼ˆstatus="æœŸé™åˆ‡ã‚Œ"ï¼‰
- è¨ºæ–­æƒ…å ±ï¼ˆå…¨ã¦ï¼‰
- åŒ»ç™‚æ©Ÿé–¢æƒ…å ±ï¼ˆå…¨ã¦ï¼‰
- å‡¦æ–¹è–¬æƒ…å ±ï¼ˆå…¨ã¦ï¼‰
- ç›¸è«‡æ”¯æ´äº‹æ¥­æ‰€ãƒ»å°‚é–€å“¡
- ã‚µãƒ¼ãƒ“ã‚¹ç®¡ç†è²¬ä»»è€…

```python
def determine_default_visibility(node_type, properties):
    """
    ãƒãƒ¼ãƒ‰ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤º/éè¡¨ç¤ºã‚’åˆ¤å®š
    
    å¼•æ•°:
        node_type (str): ãƒãƒ¼ãƒ‰ã‚¿ã‚¤ãƒ—
        properties (dict): ãƒãƒ¼ãƒ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
        
    æˆ»ã‚Šå€¤:
        bool: True=ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¡¨ç¤ºã€False=å±•é–‹æ™‚ã®ã¿è¡¨ç¤º
    """
    # æœ¬äººã¯å¸¸ã«è¡¨ç¤º
    if node_type == "Person":
        return True
    
    # å®¶æ—ã¯ä¸»ä»‹è­·è€…ã¾ãŸã¯åŒå±…ã®ã¿è¡¨ç¤º
    if node_type == "Family":
        return properties.get("primaryCaregiver", False) or properties.get("cohabiting", False)
    
    # æ‰‹å¸³ãƒ»æ”¯æ´åŒºåˆ†ã¯æœ‰åŠ¹ãªã‚‚ã®ã®ã¿è¡¨ç¤º
    if node_type in ["RyoikuNotebook", "MentalHealthNotebook", "PhysicalDisabilityNotebook", "SupportLevel"]:
        return properties.get("status") in ["æœ‰åŠ¹", "ç¾åœ¨"]
    
    # æˆå¹´å¾Œè¦‹äººã¯å¸¸ã«è¡¨ç¤º
    if node_type == "LegalGuardian":
        return True
    
    # ã‚µãƒ¼ãƒ“ã‚¹ç­‰åˆ©ç”¨è¨ˆç”»ã¯æœ‰åŠ¹ãªã‚‚ã®ã®ã¿è¡¨ç¤º
    if node_type == "ServicePlan":
        return properties.get("status") == "æœ‰åŠ¹"
    
    # ã‚µãƒ¼ãƒ“ã‚¹å¥‘ç´„ã¯å¥‘ç´„ä¸­ã®ã¿è¡¨ç¤º
    if node_type == "ServiceContract":
        return properties.get("status") == "å¥‘ç´„ä¸­"
    
    # ç¦ç¥‰ã‚µãƒ¼ãƒ“ã‚¹ã¯å¥‘ç´„ä¸­ã®ã¿è¡¨ç¤º
    if node_type == "SupportService":
        # é–¢é€£ã™ã‚‹ServiceContractã®statusã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆå®Ÿè£…æ™‚ï¼‰
        return True  # ä»®
    
    # ãã®ä»–ã¯å±•é–‹æ™‚ã®ã¿è¡¨ç¤º
    return False
```

---

## âš ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### **1. ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«**

| ãƒ¬ãƒ™ãƒ« | èª¬æ˜ | å‡¦ç† |
|--------|------|------|
| ERROR | å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¬ å¦‚ã€å½¢å¼ä¸æ­£ | å‡¦ç†ä¸­æ–­ã€ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |
| WARNING | æ¨å¥¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰æ¬ å¦‚ã€è»½å¾®ãªä¸æ•´åˆ | å‡¦ç†ç¶™ç¶šã€è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º |
| INFO | è£œè¶³æƒ…å ± | ãƒ­ã‚°å‡ºåŠ›ã®ã¿ |

### **2. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¾‹**

#### ERROR
```
ã‚¨ãƒ©ãƒ¼: æœ¬äººæƒ…å ±ã‚·ãƒ¼ãƒˆã®æ°åãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
ã‚¨ãƒ©ãƒ¼: æ‰‹å¸³æƒ…å ±ã‚·ãƒ¼ãƒˆ 2è¡Œç›®ã®äº¤ä»˜æ—¥ãŒä¸æ­£ãªå½¢å¼ã§ã™ã€‚å…¥åŠ›å€¤: "ä»¤å’ŒXXå¹´"
ã‚¨ãƒ©ãƒ¼: ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨æƒ…å ±ã‚·ãƒ¼ãƒˆ 3è¡Œç›®ã®äº‹æ¥­æ‰€ç•ªå·ãŒ10æ¡ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å…¥åŠ›å€¤: "123456"
```

#### WARNING
```
è­¦å‘Š: å®¶æ—æƒ…å ±ã‚·ãƒ¼ãƒˆ 2è¡Œç›®ã®ç”Ÿå¹´æœˆæ—¥ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚å¹´é½¢è¨ˆç®—ã¯ã‚¹ã‚­ãƒƒãƒ—ã•ã‚Œã¾ã™ã€‚
è­¦å‘Š: è¨ºæ–­æƒ…å ±ã‚·ãƒ¼ãƒˆã«ICD-10ã‚³ãƒ¼ãƒ‰ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
```

#### INFO
```
æƒ…å ±: å…ƒå·è¡¨è¨˜ "ä»¤å’Œ7å¹´4æœˆ1æ—¥" ã‚’è¥¿æš¦ "2025-04-01" ã«å¤‰æ›ã—ã¾ã—ãŸã€‚
æƒ…å ±: å¹´é½¢ã‚’è‡ªå‹•è¨ˆç®—ã—ã¾ã—ãŸ: 35æ­³ï¼ˆç”Ÿå¹´æœˆæ—¥: 1990-04-01ï¼‰
```

### **3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚³ãƒ¼ãƒ‰ä¾‹**

```python
class ValidationError(Exception):
    """æ¤œè¨¼ã‚¨ãƒ©ãƒ¼"""
    pass

def validate_required_field(value, field_name, row_number=None):
    """
    å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ¤œè¨¼
    
    å¼•æ•°:
        value: æ¤œè¨¼ã™ã‚‹å€¤
        field_name (str): ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
        row_number (int): è¡Œç•ªå·ï¼ˆExcelã®å ´åˆï¼‰
        
    æˆ»ã‚Šå€¤:
        None
        
    ä¾‹å¤–:
        ValidationError: å€¤ãŒç©ºã®å ´åˆ
    """
    if not value or str(value).strip() == "":
        location = f" {row_number}è¡Œç›®ã®" if row_number else ""
        raise ValidationError(f"ã‚¨ãƒ©ãƒ¼:{location}{field_name}ãŒå…¥åŠ›ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚")

def validate_date_format(date_string, field_name, row_number=None):
    """
    æ—¥ä»˜å½¢å¼ã®æ¤œè¨¼
    
    å¼•æ•°:
        date_string (str): æ—¥ä»˜æ–‡å­—åˆ—
        field_name (str): ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
        row_number (int): è¡Œç•ªå·
        
    æˆ»ã‚Šå€¤:
        str: ISOå½¢å¼ã®æ—¥ä»˜æ–‡å­—åˆ—
        
    ä¾‹å¤–:
        ValidationError: æ—¥ä»˜ãŒä¸æ­£ãªå½¢å¼ã®å ´åˆ
    """
    converted_date = convert_japanese_date_to_iso(date_string)
    
    # ISOå½¢å¼ã«å¤‰æ›ã§ããŸã‹ç¢ºèª
    try:
        datetime.strptime(converted_date, '%Y-%m-%d')
        return converted_date
    except:
        location = f" {row_number}è¡Œç›®ã®" if row_number else ""
        raise ValidationError(
            f"ã‚¨ãƒ©ãƒ¼:{location}{field_name}ãŒä¸æ­£ãªå½¢å¼ã§ã™ã€‚å…¥åŠ›å€¤: \"{date_string}\""
        )
```

### **4. å‡¦ç†ãƒ•ãƒ­ãƒ¼**

```
1. Excelãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
2. ã‚·ãƒ¼ãƒˆã”ã¨ã«ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
3. å„è¡Œã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
   â”œâ”€ å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯ â†’ ã‚¨ãƒ©ãƒ¼æ™‚: ä¾‹å¤–ç™ºç”Ÿã€å‡¦ç†ä¸­æ–­
   â”œâ”€ å½¢å¼æ¤œè¨¼ â†’ ã‚¨ãƒ©ãƒ¼æ™‚: ä¾‹å¤–ç™ºç”Ÿã€å‡¦ç†ä¸­æ–­
   â””â”€ å€¤ã®ç¯„å›²æ¤œè¨¼ â†’ è­¦å‘Šãƒ¬ãƒ™ãƒ«: ãƒ­ã‚°å‡ºåŠ›ã€å‡¦ç†ç¶™ç¶š
4. ãƒ‡ãƒ¼ã‚¿å¤‰æ›ï¼ˆå…ƒå·â†’è¥¿æš¦ã€å¹´é½¢è¨ˆç®—ï¼‰
5. ãƒãƒ¼ãƒ‰ãƒ»ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
6. JSONå‡ºåŠ›
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä¾‹

### **å…¥åŠ›ï¼ˆExcelï¼‰**

| æ°å | ç”Ÿå¹´æœˆæ—¥ | æ€§åˆ¥ |
|------|----------|------|
| ä½è—¤å¥å¤ª | ä»¤å’Œ3å¹´4æœˆ1æ—¥ | ç”· |

### **å‡ºåŠ›ï¼ˆJSONï¼‰**

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "type": "Person",
  "properties": {
    "name": "ä½è—¤å¥å¤ª",
    "birthDate": "2021-04-01",
    "age": 4,
    "gender": "ç”·"
  },
  "display": {
    "color": "#FF8C00",
    "icon": "ğŸ§‘",
    "layer": "default",
    "visible": true
  }
}
```

---

## ğŸ“š å‚è€ƒè³‡æ–™

### **æ—¥ä»˜å‡¦ç†**
- Python `datetime` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: https://docs.python.org/ja/3/library/datetime.html
- ISO 8601è¦æ ¼: https://ja.wikipedia.org/wiki/ISO_8601

### **æ­£è¦è¡¨ç¾**
- Python `re` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: https://docs.python.org/ja/3/library/re.html
- æ­£è¦è¡¨ç¾ãƒ†ã‚¹ã‚¿ãƒ¼: https://regex101.com/

### **UUID**
- Python `uuid` ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: https://docs.python.org/ja/3/library/uuid.html

---

**ä»¥ä¸Šã€ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ«ãƒ¼ãƒ«å®šç¾©æ›¸ã§ã™ã€‚**  
**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—: ã‚µãƒ³ãƒ—ãƒ«JSONå‡ºåŠ›ã®ä½œæˆ**
